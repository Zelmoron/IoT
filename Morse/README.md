

# IOT MORSE SYSTEM (VISUAL MONITOR)

Система для приема, декодирования и передачи азбуки Морзе в реальном времени. Проект реализован на базе Arduino с использованием сдвигового регистра 74HC595 и 7-сегментного индикатора.

### Ссылка на симуляцию
[Tinkercad — Просмотр схемы и кода](https://www.tinkercad.com/things/5GhZIj8NQWD/editel)

### Основной функционал
1.  **Прием (RX):** Считывание сигналов через пин 2 (используются прерывания). Система автоматически определяет точки и тире.
2.  **Декодирование:** Преобразование принятых сигналов в символы (цифры 0–9 и буква S, O).
3.  **Вывод:** Отображение текущего символа на 7-сегментном индикаторе через 74HC595.
4.  **Передача (TX):** 
    *   **Автоматическая:** Отправка текста, введенного через Serial Monitor. 
    *   **Ручная:** Прямая передача сигнала при нажатии кнопки на пине 7.

### Тайминги (скорость 150ms)
*   **Базовая единица (UNIT):** 150 мс.
*   **Точка (DOT):** до 250 мс.
*   **Тире (DASH):** от 300 мс.
*   **Пауза между символами:** 600 мс (после этого происходит декодирование накопленного сигнала).

### Протокол передачи
Для фильтрации помех и синхронизации используется протокол обмена:
*   **Начало сессии (START):** Последовательность `-.-.-` (символ `<`). До получения этого кода входящие символы игнорируются.
*   **Конец сессии (END):** Последовательность `...-.-` (символ `>`). После этого система переходит в режим ожидания.

### Используемые компоненты и пины
| Пин | Назначение |
| :--- | :--- |
| **2** | Вход сигнала (RX) с поддержкой прерываний |
| **3** | Выход сигнала (TX) на светодиод/передатчик |
| **4** | Сдвиговый регистр: Данные (Data) |
| **5** | Сдвиговый регистр: Защелка (Latch) |
| **6** | Сдвиговый регистр: Такты (Clock) |
| **7** | Кнопка ручного ввода |

### Алгоритм работы
1.  При поступлении сигнала на пин 2 замеряется его длительность.
2.  Символы `.` или `-` записываются в буфер.
3.  По истечении таймаута (600 мс без сигнала) буфер сравнивается со словарем.
4.  Если сессия открыта (был принят START), символ выводится в Serial и на индикатор.
5.  При вводе текста в Serial программа сама кодирует его в Морзе, добавляет служебные символы протокола и передает через пин 3 без остановки основного цикла.